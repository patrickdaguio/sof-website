{% extends "_layouts/base" %}

{% block main %}
	{% cache %}
	<section
		class="relative h-[calc(100vh-11vh)]">

		{# BG Image #}
		{% set bgImage = entry.backgroundImage.one() ?? null %}
		<div class="absolute w-full top-0 h-full">
			{% if bgImage %}
				<picture>
					{% if craft.app.images.supportsWebP %}
						<source type="image/webp" srcset="{{ bgImage.url({ width: 2400, format: 'webp' }) }} 2400w">
					{% endif %}
					<img src="{{ bgImage.url({ width: 2400, height: 500 }) }}" alt="{{ bgImage.title }}" class="block object-cover w-full h-full">
				</picture>
			{% else %}
				<img src="{{ bgImage.url }}" alt="{{ bgImage.title }}" class="border border-red-500 p-2"/>
			{% endif %}
		</div>

		<div class="container pt-32 pb-40 h-full flex items-center relative">
			<h1 class="text-white text-9xl font-bold">{{entry.heading}}</h1>
		</div>

		{# Visit Us #}
		{% include "_components/visit-us" with { 'blueBg': true } only %}
	</section>

	<section
		class="container text-zinc-900 mt-24 mb-36">
		{# Video blocks #}
		{% set videoBlocks = entry.videoAndContent.all() %}
		<div>
			{% for block in videoBlocks %}
				<div class="mb-36">
					<h2 class="text-6xl font-extrabold mb-10 tracking-tighter max-w-2xl">{{block.heading}}</h2>
					<p class="text-lg mb-16">{{block.text}}</p>
					{% set video = craft.embeddedAssets.get(block.video.one()) %}
					<div class="h-[500px] rounded-2xl overflow-hidden mt-10 pb-[55%] relative">
						{{ video.getIframeCode( ['controls=1'], ['loading=lazy', 'width=100%', 'height=100%'],['frameborder'])|attr({class:['absolute top-0 left-0 w-full h-full']}) }}
					</div>
				</div>
			{% endfor %}
		</div>
	</section>
	{% endcache %}
{% endblock %}
